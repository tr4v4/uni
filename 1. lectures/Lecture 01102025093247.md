---
tags:
  - category/lecture
  - status/finished
  - topic/basi-di-dati
date: 01-10-2025 09:32:47
teacher: danilo.montesi@unibo.it
mod: 1
---
# Lezione
---
## Concetti
- [[Modello relazionale dei dati]]
	- ma se devo organizzare dati nestati?
		- si può fare, ma attenzione a mappare ogni cosa nella trasformazione
		- per esempio:
			- l'ordine delle righe è rilevanti?
			- la ripetizione delle righe sono rilevanti, ammesse?
	- _informazione parziale_
		- non tutte le tuple sono accettate --> devono rispettare un certo schema
		- quando i dati non corrispondono allo schema atteso, parliamo di informazione parziale
		- come modelliamo informazioni parziali, ossia come riempiamo i campi vuoti?
			- non dobbiamo inserire valori appartenenti al dominio (ovvio)
			- potrebbero non esistere valori non usati, nel dominio, e comunque nel tempo potrebbero diventare utili
			- dobbiamo trovare dei valori "non rappresentabili" nel software, per catturare il significato
		- quindi introduciamo un valore nuovo al dominio, denominato `NULL` ([[Tipo somma]]!)
			- a questo punto la tupla $t[A]$ mappa per ogni attributo $A$, o in un valore di $dom(A)$ oppure in `NULL`
			- dovremo definire dei vincoli per specificare quando i valori `NULL` non sono ammessi
			- diversi tipi `NULL`
				- _valori sconosciuti_
				- _valori inesistenti_
				- _valori non informativi_
			- nei moderni DBMS non c'è alcuna differenza specifica tra questi tipi di valori (è solo una differenza concettuale)
			- ma attenzione ai casi in cui ci sono troppi `NULL`
	- **vincoli di integrità**
		- alcune istanze di database, anche se sintatticamente corrette, possono non rappresentare alcuna informazione corretta per l'applicazione
		- per esempio:
			- associare in un'istanza di voti universitari, la lode a un 27 --> sintatticamente è giusta, ma non ha senso!
			- oppure due studenti con nome e cognome diversi, ma che hanno la stessa matricola!
		- formalmente, sono delle proprietà che devono essere mantenute per poter rappresentare correttamente le informazioni dell'applicazione
			- è interpretata come una funzione booleana --> **predicato**
			- associa ad ogni istanza di database un valore booleano
				- `true` - se rispetta i vincoli di integrità
				- `false` - altrimenti
		- importanza
			- mi danno una descrizione più accurata del mondo reale in cui mi sto muovendo
			- utile per il design di database
			- usata per la valutazione delle query
		- i DBMS non supportano tutti i tipi di vincoli
			- per i vincoli non supportati, è compito del programmatore codificare questi vincoli al di fuori del DBMS
			- esempio:
				- i _vincoli temporali_ --> cambiamento nel tempo degli attributi di certe istanze (record)
		- tipi di vincoli
			- _vincoli intra-relazionali_ --> all'interno di una singola tabella
				- sui _domini_ - per esempio 32 come voto nell'attributo voto
				- sulle _tuple_ - per esempio 27 con lode (la lode è un altro attributo)
				- sintassi
			- _vincoli inter-relazionali_ --> tra una tabella e l'altra
		- sono modellati a partire da uno schema
			- ogni schema ha un suo insieme di vincoli
			- ogni tupla dello schema è corretta se rispetta tutti i vincoli
	- **superchiave e chiave**
		- superchiave
			- data una certa tabella/relazione, un insieme di attributi che identifica univocamente le tuple della relazione prende il nome di superchiave
			- formalmente la superchiave è un insieme $K$ di attributi di $r$ tale che $\nexists t_{1}, t_{2}$ tuple distinte in $r$ tale che $t_{1}[k] = t_{2}[k] \ \ \ \forall k \in K$
		- chiave
			- è una superchiave minimale di una certa relazione --> al suo interno non contiene nessun'altra superchiave
			- possono esistere due chiavi? Sì
		- proprietà
			- ogni relazione non può contenere tuple con stessi valori
			- ogni relazione ha una superchiave che è l'insieme di tutti gli attributi
			- quindi ogni relazione ha almeno una chiave
		- importanza delle chiavi
			- consentono di accedere sempre ad ogni tupla del database
			- consentono di correlare tuple di tabelle diverse
		- nota sulle chiavi e i valori nulli
			- l'uso dei valori nulli delle chiavi è proibito!
	- **chiave primaria**
		- indicata con $PK$ è una chiave che non può avere valore `NULL`
		- nella relazione si sottolinea l'attributo o gli attributi che identificano la chiave primaria
	- **vincolo di integrità referenziale**
		- sono i vincoli inter-relazionali, tra due o più tabelle
		- in particolare, i valori delle chiavi primarie
		- le correlazioni in tal senso devono essere coerenti
		- definizione
			- chiamato $FK$ (chiave straniera) tra gli attributi $X$ di una relazione $R_{1}$ e un'altra $R_{2}$, assicura che i valori di $X$ in $R_{1}$ appaiano come chiavi primarie in $R_{2}$
			- definizione formale
		- commenti
			- hanno un ruolo fondamentale nei modelli value-based
			- se compare il `NULL` nelle chiavi, allora i vincoli possono essere "rilassati"
			- possiamo specificare delle azioni da prendere in caso di violazione dei vincoli, che causano side-effect
				- esempio
					- una tupla è eliminata --> questo causa la violazione dei vincoli di integrità referenziale
					- possiamo definire due politiche:
						- non accettare l'eliminazione (anche no)
						- _rimozione a cascata_
						- _introduzione di valori nulli_
						- _introduzioni di valori di default_
			- attenzione a non mettere troppi vincoli, che si scontrano tra di loro
		- vincoli su più attributi
- analisi formali
	- algebra relazionale
	- calcolo relazionale
		- deriva dalla logica del prim'ordine

## Domande

## Referenze
